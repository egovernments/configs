ServiceMaps:
  serviceName: service-request
  version: 1.0.0
  mappings:
    - topic: pg-transformer-producer-service-request-index-v1-health-topic
      configKey: INDEX
      indexes:
        - name: pg-service-task-v1
          type: service
          id: $.id
          isBulk: true
          jsonPath: $
          customJsonMapping:
            indexMapping: { "Data": {} }
            fieldMapping:
              - inJsonPath: $
                outJsonPath: $.Data
          timeStampField: $.createdTime
        - name: pg-user-sync-index-v1
          type: users
          id: $.id
          isBulk: true
          jsonPath: $
          customJsonMapping:
            indexMapping: { "Data": { } }
            fieldMapping:
              - inJsonPath: $
                outJsonPath: $.Data
              - inJsonPath: $.createdBy
                outJsonPath: $.Data.syncedUserId
              - inJsonPath: $.userName
                outJsonPath: $.Data.syncedUserName
              - inJsonPath: $.createdTime
                outJsonPath: $.Data.clientCreatedTime
              - inJsonPath: $.syncedTime
                outJsonPath: $.Data.createdTime
          timeStampField: $.createdTime
    - topic: pg-transformer-producer-service-index-v2-topic
      configKey: INDEX
      indexes:
        - name: pg-referral-service-task-v1
          type: service
          id: $.id,$.ageGroup
          isBulk: true
          jsonPath: $
          customJsonMapping:
            indexMapping: { "Data": {} }
            fieldMapping:
              - inJsonPath: $
                outJsonPath: $.Data
          timeStampField: $.createdTime
        - name: pg-user-sync-index-v1
          type: users
          id: $.id,$.ageGroup
          isBulk: true
          jsonPath: $
          customJsonMapping:
            indexMapping: { "Data": { } }
            fieldMapping:
              - inJsonPath: $
                outJsonPath: $.Data
              - inJsonPath: $.createdBy
                outJsonPath: $.Data.syncedUserId
              - inJsonPath: $.userName
                outJsonPath: $.Data.syncedUserName
              - inJsonPath: $.createdTime
                outJsonPath: $.Data.clientCreatedTime
              - inJsonPath: $.syncedTime
                outJsonPath: $.Data.createdTime
          timeStampField: $.createdTime