{
	"key": "ws-waterdisconnectionnotice",
	"DataConfigs": {
		"serviceName": "rainmaker-common",
		"version": "1.0.0",
		"baseKeyPath": "$.WaterConnection.*",
		"entityIdPath": "$.applicationNo",
		"isCommonTableBorderRequired": true,
		"mappings": [
			{
				"topic": "common-pdf-generation-3",
				"mappings": [
					{
						"direct": [
							{
								"variable": "appNo",
								"value": {
									"path": "$.applicationNo"
								}
							},
							{
								"variable": "consumerName",
								"value": {
									"path": "$.connectionHolders[0].name"
								}
							},
							{
								"variable": "tenantName",
								"value": {
									"path": "$.tenantName"
								}
							},
							{
								"variable": "municipalCouncil",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_SUNAM_DEV_MUNICIPAL_COUNCIL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "logo_sub_header",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_ACKNOWELDGMENT_LOGO_SUB_HEADER"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "disconnectionNotice",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_DISCONNECTION_NOTICE"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "date_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_DATE_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "sub_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_SUBJECT"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "ref_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_REFERENCE"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "disconnectionNoticeDate",
								"value": {
									"path": "$.disconnectionNoticeDate"
								},
								"type": "date"
							},
							{
								"variable": "disconnection_of_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_DISCONNECTION_OF_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "connection_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONNECTION_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "consumer_no_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSUMER_NO_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "consumerNo",
								"value": {
									"path": "$.connectionNo"
								}
							},
							{
								"variable": "applicationType",
								"value": {
									"path": "$.applicationType"
								},
				                "localisation":{
				                  "required":true,
				                  "prefix": "WATER_APPLICATIONTYPE",
				                  "module": "rainmaker-common"
				               }	
							},
							{
								"variable": "application_of_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_APPLICATION_OF_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "ownerName",
								"value": {
									"path": "$.property.owners[0].name"
								}
							},
							{
								"variable": "doorNo",
								"value": {
									"path": "$.property.address.doorNo"
								}
							},
							{
								"variable": "locality",
								"value": {
									"path": "$.property.address.locality.name"
								}
							},
							{
								"variable": "city",
								"value": {
									"path": "$.property.address.city"
								}
							},
							{
								"variable": "ownerName",
								"value": {
									"path": "$.property.owners[0].name"
								}
							},
							{
								"variable": "dated_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_ACKNOWELDGMENT_DATED_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "appCreatedDate",
								"value": {
									"path": "$.additionalDetails.appCreatedDate"
								},
								"type": "date"
							},
							{
								"variable": "Municipal_Corporation",
								"value": {
									"path": "PDF_STATIC_LABEL_MDMS_MUNICIPAL_CORPORATION"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "order_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_ACKNOWELDGMENT_ORDER_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "disconnection_in_ref_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_DISCONNECTION_IN_REF_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "applicationNumber",
								"value": {
									"path": "$.applicationNo"
								}
							},
							{
								"variable": "dated",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_DATED_IN_LOWER_CASE"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "seeking_disconnection_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_SEEKING_DICONNECTION_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "connection_consumer_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_CONNECTION_CONSUMER_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "door_no_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_ACKNOWELDGMENT_DOOR_NO_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "locality_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_ACKNOWELDGMENT_LOCALITY_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "disconnection_order_message",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_DISCONNECTION_ORDER_MESSAGE"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "disconnection_billing_details_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_DISCONNECTION_BILLINGDETAILS_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "billing_period_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_DISCONNECTION_BILLINGPERIOD_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "lowercase_to_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_DISCONNECTION_LOWERCASE_TO_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "billing_date_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_DISCONNECTION_BILLING_DATE_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "bill_number_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_DISCONNECTION_BILLING_NUMBER_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "billing_amount_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_DISCONNECTION_BILLING_AMOUNT_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "due_date_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_DISCONNECTION_DUE_DATE_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "current_meter_reading_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_CURRENT_METER_READING_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "note_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_DISCONNECTION_NOTE_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "note_message",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_DISCONNECTION_NOTE_MESSAGE"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "to_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_ACKNOWELDGMENT_TO_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "muncipal_commisioner_label",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_MUNCIPAL_COMMISIONER_LABEL"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							},
							{
								"variable": "footer_message",
								"value": {
									"path": "PDF_STATIC_LABEL_WS_CONSOLIDATED_ACKNOWELDGMENT_FOOTER"
								},
								"type": "label",
								"localisation": {
									"required": true,
									"prefix": null,
									"module": "rainmaker-common"
								}
							}
						]
					},
					{
						"externalAPI": [
							{
								"path": "http://billing-service:8080/billing-service/bill/v2/_fetchbill",
								"queryParam": "tenantId=$.tenantId,consumerCode=$.connectionNo,businessService=WS",
								"apiRequest": null,
								"responseMapping": [
									{
										"variable": "billingFromPeriod",
										"value": "$.Bill[0].billDetails[0].fromPeriod",
										"type": "date"
									},
									{
										"variable": "billingToPeriod",
										"value": "$.Bill[0].billDetails[0].fromPeriod",
										"type": "date"
									},
									{
										"variable": "billingDate",
										"value": "$.Bill[0].billDate",
										"type": "date"
									},
									{
										"variable": "billNumber",
										"value": "$.Bill[0].billNumber"
									},
									{
										"variable": "billingAmount",
										"value": "$.Bill[0].billDetails[0].amount"
									},
									{
										"variable": "dueDate",
										"value": "$.Bill[0].billDetails[0].expiryDate",
										"type": "date"
									}
								]
							},
							{
								"path": "http://egov-mdms-service:8080/egov-mdms-service/v1/_get",
								"queryParam": "moduleName=tenant&masterName=tenants&tenantId=pg&filter=%5B?(@.code=='{$.property.tenantId}')%5D",
								"apiRequest": null,
								"responseMapping": [
									{
										"variable": "logoImage",
										"value": "$.MdmsRes.tenant.tenants[0].logoId",
										"type": "image"
									},
									{
										"variable": "logo_header",
										"value": "$.MdmsRes.tenant.tenants[0].code",
										"localisation": {
											"required": true,
											"prefix": "TENANT_TENANTS",
											"module": "rainmaker-common"
										}
									}
								]
							},
							{
								"path": "http://ws-calculator:8080/ws-calculator/meterConnection/_search",
								"queryParam": "tenantId=$.tenantId,connectionNos=$.connectionNo",
								"apiRequest": null,
								"responseMapping": [
									{
										"variable": "currentReading",
										"value": "$.meterReadings[0].currentReading"
									}
								]
							}
						]
					}
				]
			}
		]
	}
}