ServiceMaps:
 serviceName: vehicle
 version: 1.0.0
 mappings:
  - topic: save-vehicle-application
    configKey: INDEX
    indexes:
    - name: vehicle
      type: vehicleapplication
      id: $.id, $.tenantId
      isBulk: false
      timeStampField: $.auditDetails.createdTime
      jsonPath: $.vehicle
      customJsonMapping:
        indexMapping: {"Data":{"registrationNumber":"registrationNumber","model":"model","type":"type","tankCapacity":"tankCapacity","suctionType":"suctionType","pollutionCertiValidTill":"pollutionCertiValidTill","InsuranceCertValidTill":"InsuranceCertValidTill","fitnessValidTill":"fitnessValidTill","roadTaxPaidTill":"roadTaxPaidTill","gpsEnabled":"gpsEnabled","additionalDetails":"additionalDetails","source":"source","ownerId":"ownerId","status":"status","tenantId":"tenantId","owner":{},"auditDetails":{},"@timestamp":"timestamp"}}
        fieldMapping:
        - inJsonPath: $.registrationNumber
          outJsonPath: $.Data.registrationNumber
        - inJsonPath: $.model
          outJsonPath: $.Data.model
        - inJsonPath: $.type
          outJsonPath: $.Data.type
        - inJsonPath: $.tankCapacity
          outJsonPath: $.Data.tankCapacity
        - inJsonPath: $.suctionType
          outJsonPath: $.Data.suctionType
        - inJsonPath: $.pollutionCertiValidTill
          outJsonPath: $.Data.pollutionCertiValidTill
        - inJsonPath: $.InsuranceCertValidTill
          outJsonPath: $.Data.InsuranceCertValidTill
        - inJsonPath: $.fitnessValidTill
          outJsonPath: $.Data.fitnessValidTill                    
        - inJsonPath: $.roadTaxPaidTill
          outJsonPath: $.Data.roadTaxPaidTill        
        - inJsonPath: $.gpsEnabled
          outJsonPath: $.Data.gpsEnabled
        - inJsonPath: $.additionalDetails
          outJsonPath: $.Data.additionalDetails
        - inJsonPath: $.source
          outJsonPath: $.Data.source
        - inJsonPath: $.ownerId
          outJsonPath: $.Data.ownerId          
        - inJsonPath: $.status
          outJsonPath: $.Data.status          
        - inJsonPath: $.tenantId
          outJsonPath: $.Data.tenantId
        - inJsonPath: $.owner
          outJsonPath: $.Data.owner          
        - inJsonPath: $.auditDetails
          outJsonPath: $.Data.auditDetails
        - inJsonPath: $.@timestamp
          outJsonPath: $.Data.@timestamp
          
          
  - topic: update-vehicle-application
    configKey: INDEX
    indexes:
    - name: vehicle
      type: vehicleapplication
      id: $.id, $.tenantId
      isBulk: false
      timeStampField: $.auditDetails.createdTime
      jsonPath: $.vehicle
      customJsonMapping:
        indexMapping: {"Data":{"registrationNumber":"registrationNumber","model":"model","type":"type","tankCapacity":"tankCapacity","suctionType":"suctionType","pollutionCertiValidTill":"pollutionCertiValidTill","InsuranceCertValidTill":"InsuranceCertValidTill","fitnessValidTill":"fitnessValidTill","roadTaxPaidTill":"roadTaxPaidTill","gpsEnabled":"gpsEnabled","additionalDetails":"additionalDetails","source":"source","ownerId":"ownerId","status":"status","tenantId":"tenantId","owner":{},"auditDetails":{},"@timestamp":"timestamp"}}
        fieldMapping:
        - inJsonPath: $.registrationNumber
          outJsonPath: $.Data.registrationNumber
        - inJsonPath: $.model
          outJsonPath: $.Data.model
        - inJsonPath: $.type
          outJsonPath: $.Data.type
        - inJsonPath: $.tankCapacity
          outJsonPath: $.Data.tankCapacity
        - inJsonPath: $.suctionType
          outJsonPath: $.Data.suctionType
        - inJsonPath: $.pollutionCertiValidTill
          outJsonPath: $.Data.pollutionCertiValidTill
        - inJsonPath: $.InsuranceCertValidTill
          outJsonPath: $.Data.InsuranceCertValidTill
        - inJsonPath: $.fitnessValidTill
          outJsonPath: $.Data.fitnessValidTill                    
        - inJsonPath: $.roadTaxPaidTill
          outJsonPath: $.Data.roadTaxPaidTill        
        - inJsonPath: $.gpsEnabled
          outJsonPath: $.Data.gpsEnabled
        - inJsonPath: $.additionalDetails
          outJsonPath: $.Data.additionalDetails
        - inJsonPath: $.source
          outJsonPath: $.Data.source
        - inJsonPath: $.ownerId
          outJsonPath: $.Data.ownerId          
        - inJsonPath: $.status
          outJsonPath: $.Data.status          
        - inJsonPath: $.tenantId
          outJsonPath: $.Data.tenantId
        - inJsonPath: $.owner
          outJsonPath: $.Data.owner          
        - inJsonPath: $.auditDetails
          outJsonPath: $.Data.auditDetails
        - inJsonPath: $.@timestamp
          outJsonPath: $.Data.@timestamp
          
          
  - topic: save-vehicle-trip
    configKey: INDEX
    indexes:
    - name: vehicletrip
      type: vehicletripapplication
      id: $.id, $.tenantId
      isBulk: false
      timeStampField: $.auditDetails.createdTime
      jsonPath: $.vehicle
      customJsonMapping:
        indexMapping: {"Data":{"tripOwner":{},"tripOwnerId":"tripOwnerId","driver":{},"driverId":"driverId","vehicle":{},"vehicleId":"vehicleId","applicationNo":"applicationNo","status":"status","businessService":"businessService","applicationStatus":"applicationStatus","additionalDetails":"additionalDetails","tripDetails":[],"tripStartTime":"tripStartTime","tripEndTime":"tripEndTime","volumeCarried":"volumeCarried","tenantId":"tenantId","auditDetails":{},"@timestamp":"timestamp"}}
        fieldMapping:
        - inJsonPath: $.tripOwner
          outJsonPath: $.Data.tripOwner
        - inJsonPath: $.tripOwnerId
          outJsonPath: $.Data.tripOwnerId
        - inJsonPath: $.driver
          outJsonPath: $.Data.driver
        - inJsonPath: $.driverId
          outJsonPath: $.Data.driverId
        - inJsonPath: $.vehicle
          outJsonPath: $.Data.vehicle
        - inJsonPath: $.vehicleId
          outJsonPath: $.Data.vehicleId
        - inJsonPath: $.applicationNo
          outJsonPath: $.Data.applicationNo
        - inJsonPath: $.status
          outJsonPath: $.Data.status                    
        - inJsonPath: $.businessService
          outJsonPath: $.Data.businessService        
        - inJsonPath: $.applicationStatus
          outJsonPath: $.Data.applicationStatus
        - inJsonPath: $.additionalDetails
          outJsonPath: $.Data.additionalDetails
        - inJsonPath: $.additionalDetails
          outJsonPath: $.Data.additionalDetails
        - inJsonPath: $.tripDetails
          outJsonPath: $.Data.tripDetails          
        - inJsonPath: $.tripStartTime
          outJsonPath: $.Data.tripStartTime
        - inJsonPath: $.tripEndTime
          outJsonPath: $.Data.tripEndTime
        - inJsonPath: $.volumeCarried
          outJsonPath: $.Data.volumeCarried          
        - inJsonPath: $.tenantId
          outJsonPath: $.Data.tenantId          
        - inJsonPath: $.auditDetails
          outJsonPath: $.Data.auditDetails
        - inJsonPath: $.@timestamp
          outJsonPath: $.Data.@timestamp


  - topic: update-vehicle-trip
    configKey: INDEX
    indexes:
    - name: vehicletrip
      type: vehicletripapplication
      id: $.id, $.tenantId
      isBulk: false
      timeStampField: $.auditDetails.createdTime
      jsonPath: $.vehicle
      customJsonMapping:
        indexMapping: {"Data":{"tripOwner":{},"tripOwnerId":"tripOwnerId","driver":{},"driverId":"driverId","vehicle":{},"vehicleId":"vehicleId","applicationNo":"applicationNo","status":"status","businessService":"businessService","applicationStatus":"applicationStatus","additionalDetails":"additionalDetails","tripDetails":[],"tripStartTime":"tripStartTime","tripEndTime":"tripEndTime","volumeCarried":"volumeCarried","tenantId":"tenantId","auditDetails":{},"@timestamp":"timestamp"}}
        fieldMapping:
        - inJsonPath: $.tripOwner
          outJsonPath: $.Data.tripOwner
        - inJsonPath: $.tripOwnerId
          outJsonPath: $.Data.tripOwnerId
        - inJsonPath: $.driver
          outJsonPath: $.Data.driver
        - inJsonPath: $.driverId
          outJsonPath: $.Data.driverId
        - inJsonPath: $.vehicle
          outJsonPath: $.Data.vehicle
        - inJsonPath: $.vehicleId
          outJsonPath: $.Data.vehicleId
        - inJsonPath: $.applicationNo
          outJsonPath: $.Data.applicationNo
        - inJsonPath: $.status
          outJsonPath: $.Data.status                    
        - inJsonPath: $.businessService
          outJsonPath: $.Data.businessService        
        - inJsonPath: $.applicationStatus
          outJsonPath: $.Data.applicationStatus
        - inJsonPath: $.additionalDetails
          outJsonPath: $.Data.additionalDetails
        - inJsonPath: $.additionalDetails
          outJsonPath: $.Data.additionalDetails
        - inJsonPath: $.tripDetails
          outJsonPath: $.Data.tripDetails          
        - inJsonPath: $.tripStartTime
          outJsonPath: $.Data.tripStartTime
        - inJsonPath: $.tripEndTime
          outJsonPath: $.Data.tripEndTime
        - inJsonPath: $.volumeCarried
          outJsonPath: $.Data.volumeCarried          
        - inJsonPath: $.tenantId
          outJsonPath: $.Data.tenantId          
        - inJsonPath: $.auditDetails
          outJsonPath: $.Data.auditDetails
        - inJsonPath: $.@timestamp
          outJsonPath: $.Data.@timestamp          
