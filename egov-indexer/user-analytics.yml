ServiceMaps:
  serviceName: user-analytics
  version: 1.0.0
  mappings:
    - topic: create-analytics-session
      configKey: INDEX
      indexes:
        - name: analytics-session-index
          type: general
          id: $.sessionId
          timeStampField: $.sessionDetails.sessionStart
          jsonPath: $.AnalyticsSession
          customJsonMapping:
            indexMapping: {"Data":{}}
            fieldMapping:
              - inJsonPath: $
                outJsonPath: $.Data

    - topic: update-analytics-session
      configKey: INDEX
      indexes:
        - name: analytics-session-index
          type: general
          id: $.sessionId
          timeStampField: $.sessionDetails.sessionEnd
          jsonPath: $.AnalyticsSession
          customJsonMapping:
            indexMapping: {"Data":{}}
            fieldMapping:
              - inJsonPath: $
                outJsonPath: $.Data

    - topic: create-analytics-event
      configKey: INDEX
      indexes:
        - name: analytics-event-index
          type: general
          id: $.eventId
          timeStampField: $.eventTimestamp
          jsonPath: $.AnalyticsEvent
          customJsonMapping:
            indexMapping: {"Data":{}}
            fieldMapping:
              - inJsonPath: $
                outJsonPath: $.Data
