ServiceMaps:
 serviceName: fsm
 version: 1.0.0
 mappings:
  - topic: save-fsm-application
    configKey: INDEX
    indexes:
    - name: fsm
      type: fsmapplication
      id: $.id, $.tenantId
      isBulk: false
      timeStampField: $.auditDetails.createdTime
      jsonPath: $.fsm
      customJsonMapping:
        indexMapping: {"Data":{"citizen":{},"applicationNo":"applicationNo","description":"description","accountId":"accountId","applicationStatus":"applicationStatus","source":"source","sanitationtype":"sanitationtype","propertyUsage":"propertyUsage","vehicleType":"vehicleType","noOfTrips":"noOfTrips","status":"status","vehicleId":"vehicleId","dsoId":"dsoId","possibleServiceDate":"possibleServiceDate","pitDetail":{},"address":{},"tenantId":"tenantId","auditDetails":{},"@timestamp":"timestamp"}}
        fieldMapping:
        - inJsonPath: $.citizen
          outJsonPath: $.Data.citizen
        - inJsonPath: $.applicationNo
          outJsonPath: $.Data.applicationNo        
        - inJsonPath: $.description
          outJsonPath: $.Data.description
        - inJsonPath: $.accountId
          outJsonPath: $.Data.accountId
        - inJsonPath: $.applicationStatus
          outJsonPath: $.Data.applicationStatus 
        - inJsonPath: $.source
          outJsonPath: $.Data.source
        - inJsonPath: $.sanitationtype
          outJsonPath: $.Data.sanitationtype
        - inJsonPath: $.propertyUsage
          outJsonPath: $.Data.propertyUsage
        - inJsonPath: $.vehicleType
          outJsonPath: $.Data.vehicleType
        - inJsonPath: $.noOfTrips
          outJsonPath: $.Data.noOfTrips          
        - inJsonPath: $.status
          outJsonPath: $.Data.status
        - inJsonPath: $.vehicleId
          outJsonPath: $.Data.vehicleId
        - inJsonPath: $.dsoId
          outJsonPath: $.Data.dsoId
        - inJsonPath: $.possibleServiceDate
          outJsonPath: $.Data.possibleServiceDate
        - inJsonPath: $.pitDetail
          outJsonPath: $.Data.pitDetail
        - inJsonPath: $.address
          outJsonPath: $.Data.address          
        - inJsonPath: $.tenantId
          outJsonPath: $.Data.tenantId
        - inJsonPath: $.auditDetails
          outJsonPath: $.Data.auditDetails
        - inJsonPath: $.@timestamp
          outJsonPath: $.Data.@timestamp
          
  - topic: update-fsm-application
    configKey: INDEX
    indexes:
    - name: fsm
      type: fsmapplication
      id: $.id, $.tenantId
      isBulk: false
      timeStampField: $.auditDetails.createdTime
      jsonPath: $.fsm
      customJsonMapping:
        indexMapping: {"Data":{"citizen":{},"applicationNo":"applicationNo","description":"description","accountId":"accountId","applicationStatus":"applicationStatus","source":"source","sanitationtype":"sanitationtype","propertyUsage":"propertyUsage","vehicleType":"vehicleType","noOfTrips":"noOfTrips","status":"status","vehicleId":"vehicleId","dsoId":"dsoId","possibleServiceDate":"possibleServiceDate","pitDetail":{},"address":{},"tenantId":"tenantId","auditDetails":{},"@timestamp":"timestamp"}}
        fieldMapping:
        - inJsonPath: $.citizen
          outJsonPath: $.Data.citizen
        - inJsonPath: $.applicationNo
          outJsonPath: $.Data.applicationNo        
        - inJsonPath: $.description
          outJsonPath: $.Data.description
        - inJsonPath: $.accountId
          outJsonPath: $.Data.accountId
        - inJsonPath: $.applicationStatus
          outJsonPath: $.Data.applicationStatus 
        - inJsonPath: $.source
          outJsonPath: $.Data.source
        - inJsonPath: $.sanitationtype
          outJsonPath: $.Data.sanitationtype
        - inJsonPath: $.propertyUsage
          outJsonPath: $.Data.propertyUsage
        - inJsonPath: $.vehicleType
          outJsonPath: $.Data.vehicleType
        - inJsonPath: $.noOfTrips
          outJsonPath: $.Data.noOfTrips          
        - inJsonPath: $.status
          outJsonPath: $.Data.status
        - inJsonPath: $.vehicleId
          outJsonPath: $.Data.vehicleId
        - inJsonPath: $.dsoId
          outJsonPath: $.Data.dsoId
        - inJsonPath: $.possibleServiceDate
          outJsonPath: $.Data.possibleServiceDate
        - inJsonPath: $.pitDetail
          outJsonPath: $.Data.pitDetail
        - inJsonPath: $.address
          outJsonPath: $.Data.address          
        - inJsonPath: $.tenantId
          outJsonPath: $.Data.tenantId
        - inJsonPath: $.auditDetails
          outJsonPath: $.Data.auditDetails
        - inJsonPath: $.@timestamp
          outJsonPath: $.Data.@timestamp
