ServiceMaps:
  serviceName: sample
  version: 1.0.0
  mappings:
    - topic: sample-data-poc-5
      configKey: INDEX
      indexes:
        - name: sample-data-poc
          type: _doc
          id: $.id
          isBulk: false
          jsonPath: $.x
          timeStampField: $.time
          customJsonMapping:
            indexMapping: {"Data":{"a":"","b":""}}
            fieldMapping:
              - inJsonPath: $.userId
                outJsonPath: $.Data.a
            externalUriMapping:
              - path: http://egov-user.egov:8080/user/_search
                apiRequest: {
                "RequestInfo":{"apiId":null,"ver":null,"ts":null,"action":"POST","did":null,"key":null,"msgId":"5bfa85e7-dfa1-47c8-98b2-747bf552be86","userInfo":{"id":181,"userName":"TestEggMUSTAKIMNK","uuid":"4f6cf5fa-bcb2-4a3a-9dff-9740c04e3a92","locale":"string","type":"EMPLOYEE","name":"mustak","mobileNumber":"1234567890","alternatemobilenumber":null,"emailId":"xyz@egovernments.org","roles":[{"name":"Employee","code":"EMPLOYEE","tenantId":"pg"},{"name":"System user","code":"SYSTEM","tenantId":"pg"},{"name":"Super User","code":"SUPERUSER","tenantId":"pg"}],"active":true,"tenantId":"pg","permanentCity":"Kaikoo"},"authToken":"742946f2-a4f3-41ac-b5f9-00d02a2ddfda"},"type":"SYSTEM","active":"true","id":["$.userId"],"tenantId":"pg"}
                uriResponseMapping:
                  - inJsonPath: $.user[0].userName
                    outJsonPath: $.Data.b
