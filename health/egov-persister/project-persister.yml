serviceMaps:
  serviceName: project
  mappings:
    - version: 1.0
      description: Saves a project staff
      fromTopic: save-project-staff-health-topic
      isTransaction: true
      isAuditEnabled: true
      module: PROJECT
      objecIdJsonPath: $.ProjectStaff.*.id
      tenantIdJsonPath: $.ProjectStaff.*.tenantId
      userUuidJsonPath: $.RequestInfo.userInfo.uuid
      transactionCodeJsonPath: $.ProjectStaff.*.clientReferenceId
      auditAttributeBasePath: $.ProjectStaff.*
      queryMaps:
        - query: INSERT INTO health.project_staff (id, tenantId, projectId, staffId, startDate, endDate, additionalDetails, createdBy, lastModifiedBy, createdTime, lastModifiedTime, rowVersion, isDeleted) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?);
          basePath: $.ProjectStaff.*
          jsonMaps:
            - jsonPath: $.ProjectStaff.*.id
            - jsonPath: $.ProjectStaff.*.tenantId
            - jsonPath: $.ProjectStaff.*.projectId
            - jsonPath: $.ProjectStaff.*.userId
            - jsonPath: $.ProjectStaff.*.startDate
            - jsonPath: $.ProjectStaff.*.endDate
            - jsonPath: $.ProjectStaff.*.additionalFields
              type: JSON
              dbType: JSONB
            - jsonPath: $.ProjectStaff.*.auditDetails.createdBy
            - jsonPath: $.ProjectStaff.*.auditDetails.lastModifiedBy
            - jsonPath: $.ProjectStaff.*.auditDetails.createdTime
            - jsonPath: $.ProjectStaff.*.auditDetails.lastModifiedTime
            - jsonPath: $.ProjectStaff.*.rowVersion
            - jsonPath: $.ProjectStaff.*.isDeleted

    - version: 1.0
      description: Update Project Staff
      fromTopic: update-project-staff-health-topic
      isTransaction: true
      isAuditEnabled: true
      module: PROJECT
      objecIdJsonPath: $.ProjectStaff.*.id
      tenantIdJsonPath: $.ProjectStaff.*.tenantId
      userUuidJsonPath: $.RequestInfo.userInfo.uuid
      transactionCodeJsonPath: $.ProjectStaff.*.clientReferenceId
      auditAttributeBasePath: $.ProjectStaff.*
      queryMaps:
        - query: UPDATE health.project_staff SET projectId=?, staffId=?, startDate=?, endDate=?, additionalDetails=?, lastModifiedBy=?, lastModifiedTime=?, rowVersion=?, isDeleted=? WHERE id = ?
          basePath: $.ProjectStaff.*
          jsonMaps:
            - jsonPath: $.ProjectStaff.*.projectId
            - jsonPath: $.ProjectStaff.*.userId
            - jsonPath: $.ProjectStaff.*.startDate
            - jsonPath: $.ProjectStaff.*.endDate
            - jsonPath: $.ProjectStaff.*.additionalFields
              type: JSON
              dbType: JSONB
            - jsonPath: $.ProjectStaff.*.auditDetails.lastModifiedBy
            - jsonPath: $.ProjectStaff.*.auditDetails.lastModifiedTime
            - jsonPath: $.ProjectStaff.*.rowVersion
            - jsonPath: $.ProjectStaff.*.isDeleted
            - jsonPath: $.ProjectStaff.*.id

    - version: 1.0
      description: Deletes Project Staff
      fromTopic: delete-project-staff-health-topic
      isTransaction: true
      isAuditEnabled: true
      module: PROJECT
      objecIdJsonPath: $.ProjectStaff.*.id
      tenantIdJsonPath: $.ProjectStaff.*.tenantId
      userUuidJsonPath: $.RequestInfo.userInfo.uuid
      transactionCodeJsonPath: $.ProjectStaff.*.clientReferenceId
      auditAttributeBasePath: $.ProjectStaff.*
      queryMaps:
        - query: UPDATE health.project_staff SET lastModifiedBy=?, lastModifiedTime=?, rowVersion=?, isDeleted=?, additionalDetails=? WHERE id=?;
          basePath: $.ProjectStaff.*
          jsonMaps:
            - jsonPath: $.ProjectStaff.*.auditDetails.lastModifiedBy
            - jsonPath: $.ProjectStaff.*.auditDetails.lastModifiedTime
            - jsonPath: $.ProjectStaff.*.rowVersion
            - jsonPath: $.ProjectStaff.*.isDeleted
            - jsonPath: $.ProjectStaff.*.additionalFields
              type: JSON
              dbType: JSONB
            - jsonPath: $.ProjectStaff.*.id

    - version: 1.0
      description: Saves a project beneficiary
      fromTopic: save-project-beneficiary-health-topic
      isTransaction: true
      isAuditEnabled: true
      module: PROJECT
      objecIdJsonPath: $.ProjectBeneficiaries.*.id
      tenantIdJsonPath: $.ProjectBeneficiaries.*.tenantId
      userUuidJsonPath: $.RequestInfo.userInfo.uuid
      transactionCodeJsonPath: $.ProjectBeneficiaries.*.clientReferenceId
      auditAttributeBasePath: $.ProjectBeneficiaries.*
      queryMaps:
        - query: INSERT INTO health.project_beneficiary (id, tenantId, projectId, beneficiaryId, clientReferenceId, beneficiaryClientReferenceId, dateOfRegistration, additionalDetails, createdBy, lastModifiedBy, createdTime, lastModifiedTime, rowVersion, isDeleted, clientCreatedTime, clientLastModifiedTime, clientCreatedBy, clientLastModifiedBy, tag) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);
          basePath: $.ProjectBeneficiaries.*
          jsonMaps:
            - jsonPath: $.ProjectBeneficiaries.*.id
            - jsonPath: $.ProjectBeneficiaries.*.tenantId
            - jsonPath: $.ProjectBeneficiaries.*.projectId
            - jsonPath: $.ProjectBeneficiaries.*.beneficiaryId
            - jsonPath: $.ProjectBeneficiaries.*.clientReferenceId
            - jsonPath: $.ProjectBeneficiaries.*.beneficiaryClientReferenceId
            - jsonPath: $.ProjectBeneficiaries.*.dateOfRegistration
            - jsonPath: $.ProjectBeneficiaries.*.additionalFields
              type: JSON
              dbType: JSONB
            - jsonPath: $.ProjectBeneficiaries.*.auditDetails.createdBy
            - jsonPath: $.ProjectBeneficiaries.*.auditDetails.lastModifiedBy
            - jsonPath: $.ProjectBeneficiaries.*.auditDetails.createdTime
            - jsonPath: $.ProjectBeneficiaries.*.auditDetails.lastModifiedTime
            - jsonPath: $.ProjectBeneficiaries.*.rowVersion
            - jsonPath: $.ProjectBeneficiaries.*.isDeleted
            - jsonPath: $.ProjectBeneficiaries.*.clientAuditDetails.createdTime
            - jsonPath: $.ProjectBeneficiaries.*.clientAuditDetails.lastModifiedTime
            - jsonPath: $.ProjectBeneficiaries.*.clientAuditDetails.createdBy
            - jsonPath: $.ProjectBeneficiaries.*.clientAuditDetails.lastModifiedBy
            - jsonPath: $.ProjectBeneficiaries.*.tag

    - version: 1.0
      description: Update Project Beneficiary
      fromTopic: update-project-beneficiary-health-topic
      isTransaction: true
      isAuditEnabled: true
      module: PROJECT
      objecIdJsonPath: $.ProjectBeneficiaries.*.id
      tenantIdJsonPath: $.ProjectBeneficiaries.*.tenantId
      userUuidJsonPath: $.RequestInfo.userInfo.uuid
      transactionCodeJsonPath: $.ProjectBeneficiaries.*.clientReferenceId
      auditAttributeBasePath: $.ProjectBeneficiaries.*
      queryMaps:
        - query: UPDATE health.project_beneficiary SET projectId=?, beneficiaryId=?, clientReferenceId=?, beneficiaryClientReferenceId=?, dateOfRegistration=?, additionalDetails=?, lastModifiedBy=?, lastModifiedTime=?, rowVersion=?, isDeleted=?, clientLastModifiedTime = ?, clientLastModifiedBy = ?, tag=?  WHERE id = ? AND isDeleted=false
          basePath: $.ProjectBeneficiaries.*
          jsonMaps:
            - jsonPath: $.ProjectBeneficiaries.*.projectId
            - jsonPath: $.ProjectBeneficiaries.*.beneficiaryId
            - jsonPath: $.ProjectBeneficiaries.*.clientReferenceId
            - jsonPath: $.ProjectBeneficiaries.*.beneficiaryClientReferenceId
            - jsonPath: $.ProjectBeneficiaries.*.dateOfRegistration
            - jsonPath: $.ProjectBeneficiaries.*.additionalFields
              type: JSON
              dbType: JSONB
            - jsonPath: $.ProjectBeneficiaries.*.auditDetails.lastModifiedBy
            - jsonPath: $.ProjectBeneficiaries.*.auditDetails.lastModifiedTime
            - jsonPath: $.ProjectBeneficiaries.*.rowVersion
            - jsonPath: $.ProjectBeneficiaries.*.isDeleted
            - jsonPath: $.ProjectBeneficiaries.*.clientAuditDetails.lastModifiedTime
            - jsonPath: $.ProjectBeneficiaries.*.clientAuditDetails.lastModifiedBy
            - jsonPath: $.ProjectBeneficiaries.*.tag
            - jsonPath: $.ProjectBeneficiaries.*.id

    - version: 1.0
      description: Deletes Project Beneficiaries
      fromTopic: delete-project-beneficiary-health-topic
      isTransaction: true
      isAuditEnabled: true
      module: PROJECT
      objecIdJsonPath: $.ProjectBeneficiaries.*.id
      tenantIdJsonPath: $.ProjectBeneficiaries.*.tenantId
      userUuidJsonPath: $.RequestInfo.userInfo.uuid
      transactionCodeJsonPath: $.ProjectBeneficiaries.*.clientReferenceId
      auditAttributeBasePath: $.ProjectBeneficiaries.*
      queryMaps:
        - query: UPDATE health.project_beneficiary SET lastModifiedBy=?, lastModifiedTime=?, clientLastModifiedTime = ?, clientLastModifiedBy = ?, rowVersion=?, isDeleted=?, additionalDetails=? WHERE id=?;
          basePath: $.ProjectBeneficiaries.*
          jsonMaps:
            - jsonPath: $.ProjectBeneficiaries.*.auditDetails.lastModifiedBy
            - jsonPath: $.ProjectBeneficiaries.*.auditDetails.lastModifiedTime
            - jsonPath: $.ProjectBeneficiaries.*.clientAuditDetails.lastModifiedTime
            - jsonPath: $.ProjectBeneficiaries.*.clientAuditDetails.lastModifiedBy
            - jsonPath: $.ProjectBeneficiaries.*.rowVersion
            - jsonPath: $.ProjectBeneficiaries.*.isDeleted
            - jsonPath: $.ProjectBeneficiaries.*.additionalFields
              type: JSON
              dbType: JSONB
            - jsonPath: $.ProjectBeneficiaries.*.id

    - version: 1.0
      name: Projects
      description: Persists project details in project table
      fromTopic: save-project-health
      isTransaction: true
      isAuditEnabled: true
      module: PROJECT
      objecIdJsonPath: $.Projects.*.id
      tenantIdJsonPath: $.Projects.*.tenantId
      userUuidJsonPath: $.RequestInfo.userInfo.uuid
      transactionCodeJsonPath: $.Projects.*.id
      auditAttributeBasePath: $.Projects.*
      queryMaps:
        - query: INSERT INTO health.project(id,tenantId,projectNumber,name,projectType,projectTypeId,projectSubType,department,description,referenceId,startDate,endDate,isTaskEnabled,parent,projectHierarchy,natureOfWork,additionalDetails,isDeleted,rowVersion,createdBy,lastModifiedBy,createdTime,lastModifiedTime) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);
          basePath: $.Projects.*
          jsonMaps:
            - jsonPath: $.Projects.*.id

            - jsonPath: $.Projects.*.tenantId

            - jsonPath: $.Projects.*.projectNumber

            - jsonPath: $.Projects.*.name

            - jsonPath: $.Projects.*.projectType

            - jsonPath: $.Projects.*.projectTypeId

            - jsonPath: $.Projects.*.projectSubType

            - jsonPath: $.Projects.*.department

            - jsonPath: $.Projects.*.description

            - jsonPath: $.Projects.*.referenceID

            - jsonPath: $.Projects.*.startDate

            - jsonPath: $.Projects.*.endDate

            - jsonPath: $.Projects.*.isTaskEnabled

            - jsonPath: $.Projects.*.parent

            - jsonPath: $.Projects.*.projectHierarchy

            - jsonPath: $.Projects.*.natureOfWork

            - jsonPath: $.Projects.*.additionalDetails
              type: JSON
              dbType: JSONB

            - jsonPath: $.Projects.*.isDeleted

            - jsonPath: $.Projects.*.rowVersion

            - jsonPath: $.Projects.*.auditDetails.createdBy

            - jsonPath: $.Projects.*.auditDetails.lastModifiedBy

            - jsonPath: $.Projects.*.auditDetails.createdTime

            - jsonPath: $.Projects.*.auditDetails.lastModifiedTime


        - query: INSERT INTO health.project_address(id,tenantId,projectId,doorNo,latitude,longitude,locationAccuracy,type,addressLine1,addressLine2,landmark,city,pinCode,buildingName,street,boundaryType,boundary) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);
          basePath: $.Projects.*.address
          jsonMaps:
            - jsonPath: $.Projects.*.address.id

            - jsonPath: $.Projects.*.address.tenantId

            - jsonPath: $.Projects.*.id

            - jsonPath: $.Projects.*.address.doorNo

            - jsonPath: $.Projects.*.address.latitude

            - jsonPath: $.Projects.*.address.longitude

            - jsonPath: $.Projects.*.address.locationAccuracy

            - jsonPath: $.Projects.*.address.type

            - jsonPath: $.Projects.*.address.addressLine1

            - jsonPath: $.Projects.*.address.addressLine2

            - jsonPath: $.Projects.*.address.landmark

            - jsonPath: $.Projects.*.address.city

            - jsonPath: $.Projects.*.address.pincode

            - jsonPath: $.Projects.*.address.buildingName

            - jsonPath: $.Projects.*.address.street

            - jsonPath: $.Projects.*.address.boundaryType

            - jsonPath: $.Projects.*.address.boundary


        - query: INSERT INTO health.project_target(id,projectId,beneficiaryType,totalNo,targetNo,isDeleted,createdBy,lastModifiedBy,createdTime,lastModifiedTime) VALUES (?,?,?,?,?,?,?,?,?,?);
          basePath: $.Projects.*.targets.*
          jsonMaps:
            - jsonPath: $.Projects.*.targets.*.id

            - jsonPath: $.Projects[*][?({id} in @.targets[*].id)].id

            - jsonPath: $.Projects.*.targets.*.beneficiaryType

            - jsonPath: $.Projects.*.targets.*.totalNo

            - jsonPath: $.Projects.*.targets.*.targetNo

            - jsonPath: $.Projects.*.targets.*.isDeleted

            - jsonPath: $.Projects.*.targets.*.auditDetails.createdBy

            - jsonPath: $.Projects.*.targets.*.auditDetails.lastModifiedBy

            - jsonPath: $.Projects.*.targets.*.auditDetails.createdTime

            - jsonPath: $.Projects.*.targets.*.auditDetails.lastModifiedTime


        - query: INSERT INTO health.project_document(id,projectId,documentType,filestoreId,documentUid,additionalDetails,status,createdBy,lastModifiedBy,createdTime,lastModifiedTime) VALUES (?,?,?,?,?,?,?,?,?,?,?);
          basePath: $.Projects.*.documents.*
          jsonMaps:
            - jsonPath: $.Projects.*.documents.*.id

            - jsonPath: $.Projects[*][?({id} in @.documents[*].id)].id

            - jsonPath: $.Projects.*.documents.*.documentType

            - jsonPath: $.Projects.*.documents.*.fileStoreId

            - jsonPath: $.Projects.*.documents.*.documentUid

            - jsonPath: $.Projects.*.additionalDetails
              type: JSON
              dbType: JSONB

            - jsonPath: $.Projects.*.documents.*.status

            - jsonPath: $.Projects.*.documents.*.auditDetails.createdBy

            - jsonPath: $.Projects.*.documents.*.auditDetails.lastModifiedBy

            - jsonPath: $.Projects.*.documents.*.auditDetails.createdTime

            - jsonPath: $.Projects.*.documents.*.auditDetails.lastModifiedTime


    - version: 1.0
      name: Projects
      description: Updates project details in project table
      fromTopic: update-project-health
      isTransaction: true
      isAuditEnabled: true
      module: PROJECT
      objecIdJsonPath: $.id
      tenantIdJsonPath: $.tenantId
      userUuidJsonPath: $.RequestInfo.userInfo.uuid
      transactionCodeJsonPath: $.id
      auditAttributeBasePath: $.*
      queryMaps:
        - query: UPDATE health.project SET name = ?, projectType = ?, projectTypeId = ?, projectSubType = ?, department = ?, description = ?, referenceId = ?, startDate = ?, endDate = ?, isTaskEnabled = ?, natureOfWork = ?, additionalDetails = ?, isDeleted = ?, rowVersion = ?, lastModifiedBy = ?, lastModifiedTime = ? WHERE id = ?;
          basePath: $.Projects.*
          jsonMaps:

            - jsonPath: $.Projects.*.name

            - jsonPath: $.Projects.*.projectType

            - jsonPath: $.Projects.*.projectTypeId

            - jsonPath: $.Projects.*.projectSubType

            - jsonPath: $.Projects.*.department

            - jsonPath: $.Projects.*.description

            - jsonPath: $.Projects.*.referenceID

            - jsonPath: $.Projects.*.startDate

            - jsonPath: $.Projects.*.endDate

            - jsonPath: $.Projects.*.isTaskEnabled

            - jsonPath: $.Projects.*.natureOfWork

            - jsonPath: $.Projects.*.additionalDetails
              type: JSON
              dbType: JSONB

            - jsonPath: $.Projects.*.isDeleted

            - jsonPath: $.Projects.*.rowVersion

            - jsonPath: $.Projects.*.auditDetails.lastModifiedBy

            - jsonPath: $.Projects.*.auditDetails.lastModifiedTime

            - jsonPath: $.Projects.*.id


        - query: UPDATE health.project_address SET doorNo = ?, latitude=?, longitude=?, locationAccuracy=?, type=?, addressLine1=?, addressLine2=?, landmark=?, city=?, pinCode=?, buildingName=?, street=?, boundaryType=?, boundary=? WHERE id=?;
          basePath: $.Projects.*.address
          jsonMaps:

            - jsonPath: $.Projects.*.address.doorNo

            - jsonPath: $.Projects.*.address.latitude

            - jsonPath: $.Projects.*.address.longitude

            - jsonPath: $.Projects.*.address.locationAccuracy

            - jsonPath: $.Projects.*.address.type

            - jsonPath: $.Projects.*.address.addressLine1

            - jsonPath: $.Projects.*.address.addressLine2

            - jsonPath: $.Projects.*.address.landmark

            - jsonPath: $.Projects.*.address.city

            - jsonPath: $.Projects.*.address.pincode

            - jsonPath: $.Projects.*.address.buildingName

            - jsonPath: $.Projects.*.address.street

            - jsonPath: $.Projects.*.address.boundaryType

            - jsonPath: $.Projects.*.address.boundary

            - jsonPath: $.Projects.*.address.id


        - query: INSERT INTO health.project_target(id,projectId,beneficiaryType,totalNo,targetNo,isDeleted,createdBy,lastModifiedBy,createdTime,lastModifiedTime) VALUES (?,?,?,?,?,?,?,?,?,?) ON CONFLICT (id) DO UPDATE SET beneficiaryType = ?, totalNo =?, targetNo=?, isDeleted=?, lastModifiedBy=?, lastModifiedTime=?;
          basePath: $.Projects.*.targets.*
          jsonMaps:

            - jsonPath: $.Projects.*.targets.*.id

            - jsonPath: $.Projects[*][?({id} in @.targets[*].id)].id

            - jsonPath: $.Projects.*.targets.*.beneficiaryType

            - jsonPath: $.Projects.*.targets.*.totalNo

            - jsonPath: $.Projects.*.targets.*.targetNo

            - jsonPath: $.Projects.*.targets.*.isDeleted

            - jsonPath: $.Projects.*.targets.*.auditDetails.createdBy

            - jsonPath: $.Projects.*.targets.*.auditDetails.lastModifiedBy

            - jsonPath: $.Projects.*.targets.*.auditDetails.createdTime

            - jsonPath: $.Projects.*.targets.*.auditDetails.lastModifiedTime

            - jsonPath: $.Projects.*.targets.*.beneficiaryType

            - jsonPath: $.Projects.*.targets.*.totalNo

            - jsonPath: $.Projects.*.targets.*.targetNo

            - jsonPath: $.Projects.*.targets.*.isDeleted

            - jsonPath: $.Projects.*.targets.*.auditDetails.lastModifiedBy

            - jsonPath: $.Projects.*.targets.*.auditDetails.lastModifiedTime


        - query: INSERT INTO health.project_document(id,projectId,documentType,filestoreId,documentUid,additionalDetails,status,createdBy,lastModifiedBy,createdTime,lastModifiedTime) VALUES (?,?,?,?,?,?,?,?,?,?,?) ON CONFLICT (id) DO UPDATE SET documentType=?, filestoreId=?, documentUid=?, additionalDetails=?, status=?, lastModifiedBy=?, lastModifiedTime=?;
          basePath: $.Projects.*.documents.*
          jsonMaps:

            - jsonPath: $.Projects.*.documents.*.id

            - jsonPath: $.Projects[*][?({id} in @.documents[*].id)].id

            - jsonPath: $.Projects.*.documents.*.documentType

            - jsonPath: $.Projects.*.documents.*.fileStoreId

            - jsonPath: $.Projects.*.documents.*.documentUid

            - jsonPath: $.Projects.*.additionalDetails
              type: JSON
              dbType: JSONB

            - jsonPath: $.Projects.*.documents.*.status

            - jsonPath: $.Projects.*.documents.*.auditDetails.createdBy

            - jsonPath: $.Projects.*.documents.*.auditDetails.lastModifiedBy

            - jsonPath: $.Projects.*.documents.*.auditDetails.createdTime

            - jsonPath: $.Projects.*.documents.*.auditDetails.lastModifiedTime

            - jsonPath: $.Projects.*.documents.*.documentType

            - jsonPath: $.Projects.*.documents.*.fileStoreId

            - jsonPath: $.Projects.*.documents.*.documentUid

            - jsonPath: $.Projects.*.additionalDetails
              type: JSON
              dbType: JSONB

            - jsonPath: $.Projects.*.documents.*.status

            - jsonPath: $.Projects.*.documents.*.auditDetails.lastModifiedBy

            - jsonPath: $.Projects.*.documents.*.auditDetails.lastModifiedTime


    - version: 1.0
      description: Saves a project resource
      fromTopic: save-project-resource-health-topic
      isTransaction: true
      isAuditEnabled: true
      module: PROJECT
      objecIdJsonPath: $.ProjectResources.*.id
      tenantIdJsonPath: $.ProjectResources.*.tenantId
      userUuidJsonPath: $.RequestInfo.userInfo.uuid
      transactionCodeJsonPath: $.ProjectResources.*.id
      auditAttributeBasePath: $.ProjectResources.*
      queryMaps:
        - query: INSERT INTO health.project_resource (id, tenantId, projectId, productVariantId, isBaseUnitVariant, startDate, endDate, type, createdBy, lastModifiedBy, createdTime, lastModifiedTime, rowVersion, isDeleted) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?);
          basePath: $.ProjectResources.*
          jsonMaps:
            - jsonPath: $.ProjectResources.*.id
            - jsonPath: $.ProjectResources.*.tenantId
            - jsonPath: $.ProjectResources.*.projectId
            - jsonPath: $.ProjectResources.*.resource.productVariantId
            - jsonPath: $.ProjectResources.*.resource.isBaseUnitVariant
            - jsonPath: $.ProjectResources.*.startDate
            - jsonPath: $.ProjectResources.*.endDate
            - jsonPath: $.ProjectResources.*.resource.type
            - jsonPath: $.ProjectResources.*.auditDetails.createdBy
            - jsonPath: $.ProjectResources.*.auditDetails.lastModifiedBy
            - jsonPath: $.ProjectResources.*.auditDetails.createdTime
            - jsonPath: $.ProjectResources.*.auditDetails.lastModifiedTime
            - jsonPath: $.ProjectResources.*.rowVersion
            - jsonPath: $.ProjectResources.*.isDeleted

    - version: 1.0
      description: Update a project resourcce
      fromTopic: update-project-resource-health-topic
      isTransaction: true
      isAuditEnabled: true
      module: PROJECT
      objecIdJsonPath: $.ProjectResources.*.id
      tenantIdJsonPath: $.ProjectResources.*.tenantId
      userUuidJsonPath: $.RequestInfo.userInfo.uuid
      transactionCodeJsonPath: $.ProjectResources.*.id
      auditAttributeBasePath: $.ProjectResources.*
      queryMaps:
        - query: UPDATE health.project_resource SET tenantId=?, projectId=?, productVariantId=?, isBaseUnitVariant=?, startDate=?, endDate=?, type=?, lastModifiedBy=?, lastModifiedTime=?, rowVersion=?, isDeleted=? WHERE id = ?
          basePath: $.ProjectResources.*
          jsonMaps:
            - jsonPath: $.ProjectResources.*.tenantId
            - jsonPath: $.ProjectResources.*.projectId
            - jsonPath: $.ProjectResources.*.resource.productVariantId
            - jsonPath: $.ProjectResources.*.resource.isBaseUnitVariant
            - jsonPath: $.ProjectResources.*.startDate
            - jsonPath: $.ProjectResources.*.endDate
            - jsonPath: $.ProjectResources.*.resource.type
            - jsonPath: $.ProjectResources.*.auditDetails.lastModifiedBy
            - jsonPath: $.ProjectResources.*.auditDetails.lastModifiedTime
            - jsonPath: $.ProjectResources.*.rowVersion
            - jsonPath: $.ProjectResources.*.isDeleted
            - jsonPath: $.ProjectResources.*.id

    - version: 1.0
      description: Delete a project resourcce
      fromTopic: delete-project-resource-health-topic
      isTransaction: true
      isAuditEnabled: true
      module: PROJECT
      objecIdJsonPath: $.ProjectResources.*.id
      tenantIdJsonPath: $.ProjectResources.*.tenantId
      userUuidJsonPath: $.RequestInfo.userInfo.uuid
      transactionCodeJsonPath: $.ProjectResources.*.id
      auditAttributeBasePath: $.ProjectResources.*
      queryMaps:
        - query: UPDATE health.project_resource SET lastModifiedBy=?, lastModifiedTime=?, rowVersion=?, isDeleted=? WHERE id = ?
          basePath: $.ProjectResources.*
          jsonMaps:
            - jsonPath: $.ProjectResources.*.auditDetails.lastModifiedBy
            - jsonPath: $.ProjectResources.*.auditDetails.lastModifiedTime
            - jsonPath: $.ProjectResources.*.rowVersion
            - jsonPath: $.ProjectResources.*.isDeleted
            - jsonPath: $.ProjectResources.*.id

    - version: 1.0
      description: Saves a project facility
      fromTopic: save-project-facility-health-topic
      isTransaction: true
      isAuditEnabled: true
      module: PROJECT
      objecIdJsonPath: $.ProjectFacilities.*.id
      tenantIdJsonPath: $.ProjectFacilities.*.tenantId
      userUuidJsonPath: $.RequestInfo.userInfo.uuid
      transactionCodeJsonPath: $.ProjectFacilities.*.id
      auditAttributeBasePath: $.ProjectFacilities.*
      queryMaps:

        - query: INSERT INTO health.project_facility (id, tenantId, projectId, facilityId, additionalDetails, createdBy, lastModifiedBy, createdTime, lastModifiedTime, rowVersion, isDeleted) VALUES (?,?,?,?,?,?,?,?,?,?,?);
          basePath: $.ProjectFacilities.*
          jsonMaps:
            - jsonPath: $.ProjectFacilities.*.id

            - jsonPath: $.ProjectFacilities.*.tenantId

            - jsonPath: $.ProjectFacilities.*.projectId

            - jsonPath: $.ProjectFacilities.*.facilityId

            - jsonPath: $.ProjectFacilities.*.additionalFields
              type: JSON
              dbType: JSONB

            - jsonPath: $.ProjectFacilities.*.auditDetails.createdBy

            - jsonPath: $.ProjectFacilities.*.auditDetails.lastModifiedBy

            - jsonPath: $.ProjectFacilities.*.auditDetails.createdTime

            - jsonPath: $.ProjectFacilities.*.auditDetails.lastModifiedTime

            - jsonPath: $.ProjectFacilities.*.rowVersion

            - jsonPath: $.ProjectFacilities.*.isDeleted

    - version: 1.0
      description: Update Project Facility
      fromTopic: update-project-facility-health-topic
      isTransaction: true
      isAuditEnabled: true
      module: PROJECT
      objecIdJsonPath: $.ProjectFacilities.*.id
      tenantIdJsonPath: $.ProjectFacilities.*.tenantId
      userUuidJsonPath: $.RequestInfo.userInfo.uuid
      transactionCodeJsonPath: $.ProjectFacilities.*.id
      auditAttributeBasePath: $.ProjectFacilities.*
      queryMaps:

        - query: UPDATE health.project_facility SET projectId=?, facilityId=?, additionalDetails=?, lastModifiedBy=?, lastModifiedTime=?, rowVersion=?, isDeleted=? WHERE id = ?
          basePath: $.ProjectFacilities.*
          jsonMaps:
            - jsonPath: $.ProjectFacilities.*.projectId

            - jsonPath: $.ProjectFacilities.*.facilityId

            - jsonPath: $.ProjectFacilities.*.additionalFields
              type: JSON
              dbType: JSONB

            - jsonPath: $.ProjectFacilities.*.auditDetails.lastModifiedBy

            - jsonPath: $.ProjectFacilities.*.auditDetails.lastModifiedTime

            - jsonPath: $.ProjectFacilities.*.rowVersion

            - jsonPath: $.ProjectFacilities.*.isDeleted

            - jsonPath: $.ProjectFacilities.*.id

    - version: 1.0
      description: Deletes Project Facility
      fromTopic: delete-project-facility-health-topic
      isTransaction: true
      isAuditEnabled: true
      module: PROJECT
      objecIdJsonPath: $.ProjectFacilities.*.id
      tenantIdJsonPath: $.ProjectFacilities.*.tenantId
      userUuidJsonPath: $.RequestInfo.userInfo.uuid
      transactionCodeJsonPath: $.ProjectFacilities.*.id
      auditAttributeBasePath: $.ProjectFacilities.*
      queryMaps:
        - query: UPDATE health.project_facility SET lastModifiedBy=?, lastModifiedTime=?, rowVersion=?, isDeleted=?, additionalDetails=? WHERE id=?;
          basePath: $.ProjectFacilities.*
          jsonMaps:
            - jsonPath: $.ProjectFacilities.*.auditDetails.lastModifiedBy
            - jsonPath: $.ProjectFacilities.*.auditDetails.lastModifiedTime
            - jsonPath: $.ProjectFacilities.*.rowVersion
            - jsonPath: $.ProjectFacilities.*.isDeleted
            - jsonPath: $.ProjectFacilities.*.additionalFields
              type: JSON
              dbType: JSONB
            - jsonPath: $.ProjectFacilities.*.id
