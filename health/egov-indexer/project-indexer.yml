ServiceMaps:
  serviceName: Project Service
  version: 1.0.0
  mappings:
    - topic: save-project-health
      configKey: INDEX
      indexes:
        - name: project-index-v1
          type: projects
          id: $.id
          isBulk: true
          jsonPath: $
          customJsonMapping:
            indexMapping: { "Data": { } }
            fieldMapping:
              - inJsonPath: $
                outJsonPath: $.Data
          timeStampField: $.createdTime
        - name: user-sync-index-v1
          type: users
          id: $.id
          isBulk: true
          jsonPath: $
          customJsonMapping:
            indexMapping: { "Data": { } }
            fieldMapping:
              - inJsonPath: $.createdBy
                outJsonPath: $.Data.syncedUserId
              - inJsonPath: $.createdTime
                outJsonPath: $.Data.createdTime
              - inJsonPath: $.province
                outJsonPath: $.Data.boundaryHierarchy.province
              - inJsonPath: $.district
                outJsonPath: $.Data.boundaryHierarchy.district
              - inJsonPath: $.administrativeProvince
                outJsonPath: $.Data.boundaryHierarchy.administrativeProvince
              - inJsonPath: $.locality
                outJsonPath: $.Data.boundaryHierarchy.locality
              - inJsonPath: $.village
                outJsonPath: $.Data.boundaryHierarchy.village
          timeStampField: $.createdTime

    - topic: update-project-health
      configKey: INDEX
      indexes:
        - name: project-index-v1
          type: projects
          id: $.id
          isBulk: true
          jsonPath: $
          customJsonMapping:
            indexMapping: { "Data": { } }
            fieldMapping:
              - inJsonPath: $
                outJsonPath: $.Data
          timeStampField: $.createdTime
        - name: user-sync-index-v1
          type: users
          id: $.id
          isBulk: true
          jsonPath: $
          customJsonMapping:
            indexMapping: { "Data": { } }
            fieldMapping:
              - inJsonPath: $.lastModifiedBy
                outJsonPath: $.Data.syncedUserId
              - inJsonPath: $.createdTime
                outJsonPath: $.Data.lastModifiedTime
              - inJsonPath: $.province
                outJsonPath: $.Data.boundaryHierarchy.province
              - inJsonPath: $.district
                outJsonPath: $.Data.boundaryHierarchy.district
              - inJsonPath: $.administrativeProvince
                outJsonPath: $.Data.boundaryHierarchy.administrativeProvince
              - inJsonPath: $.locality
                outJsonPath: $.Data.boundaryHierarchy.locality
              - inJsonPath: $.village
                outJsonPath: $.Data.boundaryHierarchy.village
          timeStampField: $.lastModifiedTime

    - topic: save-project-beneficiary-health-topic
      configKey: INDEX
      indexes:
        - name: project-beneficiary-index-v1
          type: project-beneficiary
          id: $.id
          isBulk: true
          jsonPath: $.*
          timeStampField: $.auditDetails.createdTime

    - topic: update-project-beneficiary-health-topic
      configKey: INDEX
      indexes:
        - name: project-beneficiary-index-v1
          type: project-beneficiary
          id: $.id
          isBulk: true
          jsonPath: $.*
          timeStampField: $.auditDetails.lastModifiedTime

    - topic: delete-project-beneficiary-health-topic
      configKey: INDEX
      indexes:
        - name: project-beneficiary-index-v1
          type: project-beneficiary
          id: $.id
          isBulk: true
          jsonPath: $.*
          timeStampField: $.auditDetails.lastModifiedTime


    - topic: save-project-resource-health-topic
      configKey: INDEX
      indexes:
        - name: project-resource-index-v1
          type: project-resource
          id: $.id
          isBulk: true
          jsonPath: $.*
          timeStampField: $.auditDetails.createdTime

    - topic: update-project-resource-health-topic
      configKey: INDEX
      indexes:
        - name: project-resource-index-v1
          type: project-resource
          id: $.id
          isBulk: true
          jsonPath: $.*
          timeStampField: $.auditDetails.lastModifiedTime

    - topic: delete-project-resource-health-topic
      configKey: INDEX
      indexes:
        - name: project-resource-index-v1
          type: project-resource
          id: $.id
          isBulk: true
          jsonPath: $.*
          timeStampField: $.auditDetails.lastModifiedTime

    - topic: save-project-facility-health-topic
      configKey: INDEX
      indexes:
        - name: project-facility-index-v1
          type: project-facility
          id: $.id
          isBulk: true
          jsonPath: $.*
          timeStampField: $.auditDetails.createdTime

    - topic: update-project-facility-health-topic
      configKey: INDEX
      indexes:
        - name: project-facility-index-v1
          type: project-facility
          id: $.id
          isBulk: true
          jsonPath: $.*
          timeStampField: $.auditDetails.lastModifiedTime

    - topic: delete-project-facility-health-topic
      configKey: INDEX
      indexes:
        - name: project-facility-index-v1
          type: project-facility
          id: $.id
          isBulk: true
          jsonPath: $.*
          timeStampField: $.auditDetails.lastModifiedTime