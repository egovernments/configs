serviceMaps:
  serviceName: sunbirdrc-credential-service
  mappings:
    - version: 1.0
      description: Persists uuid and vcid details into table
      fromTopic: save-vcid
      mappings:
        isTransaction: true
        isAuditEnabled: true
        module: sunbirdrc
      isTransaction: true
      queryMaps:

        - query: INSERT INTO uuid_vcid_mapper(uuid,vcid,createdby) VALUES (?,?,?);
          basePath: $
          jsonMaps:
            - jsonPath: $.uuid

            - jsonPath: $.vcid

            - jsonPath: $.createdBy
            
    - version: 1.0
      description: updates the vcid on revoke
      fromTopic: update-vcid
      isTransaction: true
      module: sunbirdrc
      queryMaps:
        - query: UPDATE uuid_vcid_mapper SET vcid = ? WHERE uuid=?;
          basePath: $
          jsonMaps:
            - jsonPath: $.vcid

            - jsonPath: $.uuid

